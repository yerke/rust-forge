<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Major Change Proposals - Rust Forge</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Supplemental documentation for contributing to The Rust Programming Language">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Overview</a></li><li class="chapter-item expanded "><a href="../platforms/index.html">Platforms</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platforms/twitter.html">Twitter</a></li><li class="chapter-item expanded "><a href="../platforms/discord.html">Discord</a></li><li class="chapter-item expanded "><a href="../platforms/email.html">Email</a></li><li class="chapter-item expanded "><a href="../platforms/github.html">GitHub</a></li><li class="chapter-item expanded "><a href="../platforms/zulip.html">Zulip</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platforms/zulip/moderation.html">Moderation</a></li></ol></li><li class="chapter-item expanded "><a href="../platforms/blogs.html">Blogs</a></li><li class="chapter-item expanded "><a href="../platforms/calendars.html">Calendars</a></li></ol></li><li class="chapter-item expanded "><a href="../triagebot/index.html">Triagebot</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../triagebot/agenda.html">Agenda Generator</a></li><li class="chapter-item expanded "><a href="../triagebot/issue-assignment.html">Issue Assignment</a></li><li class="chapter-item expanded "><a href="../triagebot/pr-assignment.html">PR Assignment</a></li><li class="chapter-item expanded "><a href="../triagebot/pr-assignment-tracking.html">Tracking PR assignment</a></li><li class="chapter-item expanded "><a href="../triagebot/autolabels.html">Autolabels</a></li><li class="chapter-item expanded "><a href="../triagebot/close.html">Close</a></li><li class="chapter-item expanded "><a href="../triagebot/doc-updates.html">Documentation Updates</a></li><li class="chapter-item expanded "><a href="../triagebot/github-releases.html">GitHub Releases</a></li><li class="chapter-item expanded "><a href="../triagebot/glacier.html">Glacier</a></li><li class="chapter-item expanded "><a href="../triagebot/transfer.html">Issue Transfer</a></li><li class="chapter-item expanded "><a href="../triagebot/labeling.html">Labeling</a></li><li class="chapter-item expanded "><a href="../triagebot/major-changes.html">Major Changes</a></li><li class="chapter-item expanded "><a href="../triagebot/mentions.html">Mentions</a></li><li class="chapter-item expanded "><a href="../triagebot/no-merge.html">No Merge Policy</a></li><li class="chapter-item expanded "><a href="../triagebot/nominate.html">Nominate</a></li><li class="chapter-item expanded "><a href="../triagebot/note.html">Note</a></li><li class="chapter-item expanded "><a href="../triagebot/notifications.html">Notifications</a></li><li class="chapter-item expanded "><a href="../triagebot/pinging.html">Pinging</a></li><li class="chapter-item expanded "><a href="../triagebot/requesting-prioritization.html">Requesting Prioritization</a></li><li class="chapter-item expanded "><a href="../triagebot/review-submitted.html">Review Changes Requested</a></li><li class="chapter-item expanded "><a href="../triagebot/review-requested.html">Review Requested</a></li><li class="chapter-item expanded "><a href="../triagebot/rustc-commit-list.html">Rustc Commit Tracking</a></li><li class="chapter-item expanded "><a href="../triagebot/shortcuts.html">Shortcuts</a></li><li class="chapter-item expanded "><a href="../triagebot/triage-dashboard.html">Triagebot Dashboard</a></li><li class="chapter-item expanded "><a href="../triagebot/zulip-meeting.html">Zulip Meeting Management</a></li><li class="chapter-item expanded "><a href="../triagebot/zulip-notifications.html">Zulip Notifications</a></li></ol></li><li class="chapter-item expanded "><a href="../community/index.html">Community</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../community/survey-faq.html">State of Rust Survey FAQ</a></li></ol></li><li class="chapter-item expanded "><a href="../compiler/index.html">Compiler</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/cross-compilation/index.html">Cross Compilation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/cross-compilation/windows.html">Windows</a></li></ol></li><li class="chapter-item expanded "><a href="../compiler/cross-team-collaboration.html">Cross-team Collaboration</a></li><li class="chapter-item expanded "><a href="../compiler/reviews.html">Review policies</a></li><li class="chapter-item expanded "><a href="../compiler/new_option.html">So you want to add a new option to rustc?</a></li><li class="chapter-item expanded "><a href="../compiler/mcp.html" class="active">Major Change Proposals</a></li><li class="chapter-item expanded "><a href="../compiler/membership.html">Membership</a></li><li class="chapter-item expanded "><a href="../compiler/prioritization.html">Prioritization</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/prioritization/procedure.html">Procedure</a></li><li class="chapter-item expanded "><a href="../compiler/prioritization/priority-levels.html">Priority Levels</a></li></ol></li><li class="chapter-item expanded "><a href="../compiler/notification-groups.html">Notification groups</a></li><li class="chapter-item expanded "><a href="../compiler/triage-meeting.html">Triage Meeting</a></li><li class="chapter-item expanded "><a href="../compiler/steering-meeting.html">Steering Meeting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/steering-meeting/submit.html">Submitting a proposal</a></li><li class="chapter-item expanded "><a href="../compiler/steering-meeting/how-to-run-planning.html">How to run the planning meeting</a></li><li class="chapter-item expanded "><a href="../compiler/steering-meeting/how-to-run-design.html">How to run a design meeting</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../crates-io/index.html">crates.io</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../crates-io/crate-removal.html">Crate removal</a></li><li class="chapter-item expanded "><a href="../crates-io/db-maintenance.html">Database maintenance</a></li></ol></li><li class="chapter-item expanded "><a href="../docs-rs/index.html">docs.rs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docs-rs/add-dependencies.html">Adding dependencies to the build environment</a></li><li class="chapter-item expanded "><a href="../docs-rs/self-hosting.html">Self-hosting a docs.rs instance</a></li><li class="chapter-item expanded "><a href="../docs-rs/maintenance.html">Maintenance procedures</a></li></ol></li><li class="chapter-item expanded "><a href="../governance/index.html">Governance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../governance/council.html">Leadership Council</a></li><li class="chapter-item expanded "><a href="../governance/moderation.html">Moderation</a></li></ol></li><li class="chapter-item expanded "><a href="../policies/index.html">Policies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../policies/crate-ownership.html">Crate ownership policy</a></li></ol></li><li class="chapter-item expanded "><a href="../infra/index.html">Infrastructure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/other-installation-methods.html">Other Installation Methods</a></li><li class="chapter-item expanded "><a href="../infra/archive-stable-version-installers.html">Archive of Rust Stable Standalone Installers</a></li><li class="chapter-item expanded "><a href="../infra/channel-layout.html">Release Channel Layout</a></li><li class="chapter-item expanded "><a href="../infra/service-infrastructure.html">Service Infrastructure</a></li><li class="chapter-item expanded "><a href="../infra/team-maintenance.html">Team Maintenance</a></li><li class="chapter-item expanded "><a href="../infra/toolstate.html">The Toolstate System</a></li><li class="chapter-item expanded "><a href="../infra/policies/index.html">Policies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/policies/broken-nightlies.html">Broken nightlies</a></li></ol></li><li class="chapter-item expanded "><a href="../infra/guidelines/index.html">Guidelines</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/guidelines/static-websites.html">Static websites</a></li></ol></li><li class="chapter-item expanded "><a href="../infra/docs/index.html">Documentation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/docs/aws-access.html">AWS access for team members</a></li><li class="chapter-item expanded "><a href="../infra/docs/aws-access-management.html">AWS access management</a></li><li class="chapter-item expanded "><a href="../infra/docs/aws-regions.html">AWS regions</a></li><li class="chapter-item expanded "><a href="../infra/docs/bastion.html">Bastion server</a></li><li class="chapter-item expanded "><a href="../infra/docs/bors.html">Bors</a></li><li class="chapter-item expanded "><a href="../infra/docs/cdn.html">CDN</a></li><li class="chapter-item expanded "><a href="../infra/docs/crater-agents.html">Crater agents</a></li><li class="chapter-item expanded "><a href="../infra/docs/gha-self-hosted.html">Custom GitHub Actions runners</a></li><li class="chapter-item expanded "><a href="../infra/docs/dev-desktop.html">Dev Desktops</a></li><li class="chapter-item expanded "><a href="../infra/docs/dev-desktop-github-app.html">GitHub App for dev-desktops</a></li><li class="chapter-item expanded "><a href="../infra/docs/discord-mods-bot.html">Discord moderation bot</a></li><li class="chapter-item expanded "><a href="../infra/docs/dns.html">Domain names and DNS</a></li><li class="chapter-item expanded "><a href="../infra/docs/docs-rs.html">docs.rs</a></li><li class="chapter-item expanded "><a href="../infra/docs/ecs-services.html">ECS services management</a></li><li class="chapter-item expanded "><a href="../infra/docs/monitoring.html">Monitoring</a></li><li class="chapter-item expanded "><a href="../infra/docs/rust-bots.html">rust-bots server</a></li><li class="chapter-item expanded "><a href="../infra/docs/rustc-ci.html">rust-lang/rust CI</a></li><li class="chapter-item expanded "><a href="../infra/docs/sentry.html">Sentry</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../lang/index.html">Language</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lang/rfc-merge-procedure.html">RFC Merge Procedure</a></li><li class="chapter-item expanded "><a href="../lang/triage-meeting-procedure.html">Triage Meeting Procedure</a></li></ol></li><li class="chapter-item expanded "><a href="../libs/index.html">Libs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../libs/maintaining-std.html">Maintaining the standard library</a></li></ol></li><li class="chapter-item expanded "><a href="../release/index.html">Release</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../release/backporting.html">Backporting</a></li><li class="chapter-item expanded "><a href="../release/release-notes.html">Preparing Release Notes</a></li><li class="chapter-item expanded "><a href="../release/process.html">Release Process</a></li><li class="chapter-item expanded "><a href="../release/rollups.html">Rollup Procedure</a></li><li class="chapter-item expanded "><a href="../release/triage-procedure.html">Triage Procedure</a></li><li class="chapter-item expanded "><a href="../release/issue-triaging.html">Issue Triaging</a></li><li class="chapter-item expanded "><a href="../release/crater.html">Triaging Crater Runs</a></li></ol></li><li class="chapter-item expanded "><a href="../editions/edition-releases.html">Edition Releases</a></li><li class="chapter-item expanded "><a href="../archive/index.html">Archive</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../archive/fott.html">Friends of the Tree</a></li><li class="chapter-item expanded "><a href="../archive/release-history.html">Release History</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust Forge</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust-forge" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust-forge/edit/master/src/compiler/mcp.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="major-change-proposals"><a class="header" href="#major-change-proposals">Major Change Proposals</a></h1>
<p>Introduced in <a href="https://github.com/rust-lang/rfcs/blob/master/text/2904-compiler-major-change-process.md">RFC 2904</a>, a “major change proposal” is a lightweight
form of RFC that the compiler team uses for architectural changes that
are not end-user facing. (It can also be used for small user-facing
changes like adding new compiler flags, though in that case we also
require an <code>rfcbot fcp</code> to get full approval from the team.) Larger
changes or modifications to the Rust language itself require a full
RFC (the latter fall under the lang team’s purview).</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>As the compiler grows in complexity, it becomes harder and harder to track what’s going on. We don’t currently have a clear channel for people to signal their intention to make “major changes” that may impact other developers in a lightweight way (and potentially receive feedback).</p>
<p>Our goal is to create a channel for signaling intentions that lies somewhere between opening a PR (and perhaps cc’ing others on that PR) and creating a compiler team design meeting proposal or RFC.</p>
<h2 id="goals"><a class="header" href="#goals">Goals</a></h2>
<p>Our goals with the MCP are as follows:</p>
<ul>
<li>Encourage people making a major change to write at least a few paragraphs about what they plan to do.</li>
<li>Ensure that folks in the compiler team are aware the change is happening and given a chance to respond.</li>
<li>Ensure that every proposal has a “second”, meaning some expert from the team who thinks it’s a good idea.</li>
<li>Ensure that major changes have an assigned and willing reviewer.</li>
<li>Avoid the phenomenon of large, sweeping PRs landing “out of nowhere” onto someone’s review queue.</li>
<li>Avoid the phenomenon of PRs living in limbo because it’s not clear what level of approval is required for them to land.</li>
</ul>
<h2 id="major-change-proposals-1"><a class="header" href="#major-change-proposals-1">Major Change Proposals</a></h2>
<p>If you would like to make a <a href="#What-constitutes-a-major-change">major change</a> to the compiler, the process is as follows:</p>
<ul>
<li>Open a tracking issue on the <a href="https://github.com/rust-lang/compiler-team">rust-lang/compiler-team</a> repo using the <a href="https://github.com/rust-lang/compiler-team/issues/new?assignees=&amp;labels=major-change%2C+T-compiler&amp;template=major_change.md&amp;title=%28My+major+change+proposal%29">major change template</a>.
<ul>
<li>A Zulip topic in the stream <code>#t-compiler/major changes</code> will automatically be created for you by a bot.</li>
<li>If concerns are raised, you may want to modify the proposal to address those concerns.</li>
<li>Alternatively, you can submit a <a href="https://forge.rust-lang.org/compiler/steering-meeting.html">design meeting proposal</a> to have a longer, focused discussion.</li>
</ul>
</li>
<li>To be accepted, a major change proposal needs three things:
<ul>
<li>One or more <strong>reviewers</strong>, who commit to reviewing the work. This can be the person making the proposal, if they intend to mentor others.</li>
<li>A <strong>second</strong>, a member of the compiler team or a contributor who approves of the idea, but is not the one originating the proposal.</li>
<li>A <strong>final comment period</strong> (a 10 day wait to give people time to comment).
<ul>
<li>The FCP can be skipped if the change is easily reversed and/or further objections are considered unlikely. This often happens if there has been a lot of prior discussion, for example.</li>
</ul>
</li>
</ul>
</li>
<li>Once the FCP completes, if there are no outstanding concerns, PRs can start to land.
<ul>
<li>If those PRs make outward-facing changes that affect stable
code, then either the MCP or the PR(s) must be approved with a
<code>rfcbot fcp merge</code> comment.</li>
</ul>
</li>
</ul>
<h2 id="conditional-acceptance"><a class="header" href="#conditional-acceptance">Conditional acceptance</a></h2>
<p>Some major change proposals will be conditionally accepted. This indicates that we’d like to see the work land, but we’d like to re-evaluate the decision of whether to commit to the design after we’ve had time to gain experience. We should try to be clear about the things we’d like to evaluate, and ideally a timeline.</p>
<h2 id="deferred-or-not-accepted"><a class="header" href="#deferred-or-not-accepted">Deferred or not accepted</a></h2>
<p>Some proposals will not be accepted. Some of the possible reasons:</p>
<ul>
<li>You may be asked to do some prototyping or experimentation before a final decision is reached</li>
<li>The idea might be reasonable, but there may not be bandwidth to do the reviewing, or there may just be too many other things going on.</li>
<li>The idea may be good, but it may be judged that the resulting code would be too complex to maintain, and not worth the benefits.</li>
<li>There may be flaws in the idea or it may not sufficient benefit.</li>
</ul>
<h2 id="what-happens-if-someone-opens-a-pr-that-seems-like-a-major-change-without-doing-this-process"><a class="header" href="#what-happens-if-someone-opens-a-pr-that-seems-like-a-major-change-without-doing-this-process">What happens if someone opens a PR that seems like a major change <em>without</em> doing this process?</a></h2>
<p>The PR should be closed or marked as blocked, with a request to create
a major change proposal first.</p>
<p>If the PR description already contains suitable text that could serve
as an MCP, then simply copy and paste that into an MCP issue. Using an
issue consistently helps to ensure that the tooling and process works
smoothly.</p>
<h2 id="can-i-work-on-code-experimentally-before-a-mcp-is-accepted"><a class="header" href="#can-i-work-on-code-experimentally-before-a-mcp-is-accepted">Can I work on code experimentally before a MCP is accepted?</a></h2>
<p>Of course!  You are free to work on PRs or write code. But those PRs should be marked as experimental and they should not land, nor should anyone be expected to review them (unless folks want to).</p>
<h2 id="what-constitutes-a-major-change"><a class="header" href="#what-constitutes-a-major-change">What constitutes a major change?</a></h2>
<p>The rough intuition is “something that would require updates to the <a href="https://rustc-dev-guide.rust-lang.org">rustc-dev-guide</a> or the <a href="https://doc.rust-lang.org/rustc/index.html">rustc book</a>”. In other words:</p>
<ul>
<li>Something that alters the architecture of some part(s) of the compiler, since this is what the rustc-dev-guide aims to document.</li>
<li>A simple change that affects a lot of people, such as altering the names of very common types or changing coding conventions.</li>
<li>Adding a compiler flag or other public facing changes, which should be documented (ultimately) in the rustc book. This is only appropriate for “minor” tweaks, however, and not major things that may impact a lot of users. (Also, public facing changes will require a full FCP before landing on stable, but an MCP can be a good way to propose the idea.)</li>
</ul>
<p>Note that, in some cases, the change may be deemed <strong>too big</strong> and a full FCP or RFC may be required to move forward. This could occur with significant public facing change or with sufficiently large changes to the architecture. The compiler team leads can make this call.</p>
<p>Note that whether something is a major change proposal is not necessarily related to the number of lines of code that are affected. Renaming a method can affect a large number of lines, and even require edits to the rustc-dev-guide, but it may not be a major change. At the same time, changing names that are very broadly used could constitute a major change (for example, renaming from the <code>tcx</code> context in the compiler to something else would be a major change).</p>
<h2 id="public-facing-changes-require-rfcbot-fcp"><a class="header" href="#public-facing-changes-require-rfcbot-fcp">Public-facing changes require rfcbot fcp</a></h2>
<p>The MCP “seconding” process is only meant to be used to get agreement
on the technical architecture we plan to use. It is not sufficient to
stabilize new features or make public-facing changes like adding a -C
flag. For that, an <code>rfcbot fcp</code> is required (or perhaps an RFC, if the
change is large enough).</p>
<p>For landing compiler flags in particular, a good approach is to start
with an MCP introducing a <code>-Z</code> flag and then “stabilize” the flag by
moving it to <code>-C</code> in a PR later (which would require <code>rfcbot fcp</code>).</p>
<p>Major change proposals are not sufficient for language changes or
changes that affect cargo.</p>
<h2 id="steps-to-open-a-mcp"><a class="header" href="#steps-to-open-a-mcp">Steps to open a MCP</a></h2>
<ul>
<li>Open a tracking issue on the <a href="https://github.com/rust-lang/compiler-team">rust-lang/compiler-team</a> repo using the
<a href="https://github.com/rust-lang/compiler-team/issues/new?assignees=&amp;labels=major-change%2C+T-compiler&amp;template=major_change.md&amp;title=%28My+major+change+proposal%29">major change template</a>.</li>
<li>Create a Zulip topic in the stream <code>#t-compiler/major changes</code>:
<ul>
<li>The topic should be named something like “modify the whiz-bang
component compiler-team#123”, which describes the change and links
to the tracking issue.</li>
<li>The stream will be used for people to ask questions or propose changes.</li>
</ul>
</li>
</ul>
<h2 id="what-kinds-of-comments-should-go-on-the-tracking-issue-in-compiler-team-repo"><a class="header" href="#what-kinds-of-comments-should-go-on-the-tracking-issue-in-compiler-team-repo">What kinds of comments should go on the tracking issue in compiler-team repo?</a></h2>
<p>Please direct technical conversation to the Zulip stream.</p>
<p>The compiler-team repo issues are intended to be low traffic and used for procedural purposes. Note that to “second” a design or offer to review,  you should be someone who is familiar with the code, typically but not necessarily a compiler team member or contributor. </p>
<ul>
<li>Announcing that you “second” or approve of the design.</li>
<li>Announcing that you would be able to review or mentor the work.</li>
<li>Noting a concern that you don’t want to be overlooked.</li>
<li>Announcing that the proposal will be entering FCP or is accepted.</li>
</ul>
<h2 id="how-does-one-register-as-reviewer-register-approval-or-raise-an-objection"><a class="header" href="#how-does-one-register-as-reviewer-register-approval-or-raise-an-objection">How does one register as reviewer, register approval, or raise an objection?</a></h2>
<p>These types of procedural comments can be left on the issue (it’s also good to leave a message in Zulip). See the
previous section. To facilitate a machine parsable scanning of the concerns please use the following syntax to formally
register a concern:</p>
<pre><code>@rustbot concern reason-for-concern

&lt;long description of the concern&gt;
</code></pre>
<p>And the following syntax to lift a concern when resolved:</p>
<pre><code>@rustbot resolve reason-for-concern
</code></pre>
<h2 id="who-decides-whether-a-concern-is-unresolved"><a class="header" href="#who-decides-whether-a-concern-is-unresolved">Who decides whether a concern is unresolved?</a></h2>
<p>Usually the experts in the given area will reach a consensus here. But if there is some need for a “tie breaker” vote or judgment call, the compiler-team leads make the final call.</p>
<h2 id="what-are-some-examples-of-major-changes-from-the-past"><a class="header" href="#what-are-some-examples-of-major-changes-from-the-past">What are some examples of major changes from the past?</a></h2>
<p>Here are some examples of changes that were made in the past that would warrant the major change process:</p>
<ul>
<li>overhauling the way we encode crate metadata</li>
<li>merging the gcx, tcx arenas</li>
<li>renaming a widely used, core abstraction, such as the <code>Ty</code> type</li>
<li>introducing cargo pipelining </li>
<li>adding a new <code>-C</code> flag that exposes some minor variant</li>
</ul>
<h2 id="what-are-some-examples-of-things-that-are-too-big-for-the-major-change-process"><a class="header" href="#what-are-some-examples-of-things-that-are-too-big-for-the-major-change-process">What are some examples of things that are too big for the major change process?</a></h2>
<p>Here are some examples of changes that are too big for the major change process, or which at least would require auxiliary design meetings or a more fleshed out design before they can proceed:</p>
<ul>
<li>introducing incremental or the query system</li>
<li>introducing MIR or some new IR</li>
<li>introducing parallel execution</li>
<li>adding ThinLTO support</li>
</ul>
<h2 id="what-are-some-examples-of-things-that-are-too-small-for-the-major-change-process"><a class="header" href="#what-are-some-examples-of-things-that-are-too-small-for-the-major-change-process">What are some examples of things that are too small for the major change process?</a></h2>
<p>Here are some examples of things that don’t merit any MCP:</p>
<ul>
<li>adding new information into metadata</li>
<li>fixing an ICE or tweaking diagnostics</li>
<li>renaming “less widely used” methods</li>
</ul>
<h2 id="when-should-major-change-proposals-be-closed"><a class="header" href="#when-should-major-change-proposals-be-closed">When should Major Change Proposals be closed?</a></h2>
<p>Major Change Proposals can be closed:</p>
<ul>
<li>by the author, if they have lost interest in pursuing it.</li>
<li>by a team lead or expert, if there are strong objections from key
members of the team that don’t look likely to be overcome.</li>
<li>by folks doing triage, if there have been three months of
inactivity. In this case, people should feel free to re-open the
issue if they would like to “rejuvenate” it.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../compiler/new_option.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../compiler/membership.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../compiler/new_option.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../compiler/membership.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../js/moment.min.js"></script>
        <script src="../js/index.js"></script>


    </div>
    </body>
</html>
