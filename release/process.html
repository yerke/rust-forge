<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Release Process - Rust Forge</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Supplemental documentation for contributing to The Rust Programming Language">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Overview</a></li><li class="chapter-item expanded "><a href="../platforms/index.html">Platforms</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platforms/twitter.html">Twitter</a></li><li class="chapter-item expanded "><a href="../platforms/discord.html">Discord</a></li><li class="chapter-item expanded "><a href="../platforms/email.html">Email</a></li><li class="chapter-item expanded "><a href="../platforms/github.html">GitHub</a></li><li class="chapter-item expanded "><a href="../platforms/zulip.html">Zulip</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platforms/zulip/moderation.html">Moderation</a></li></ol></li><li class="chapter-item expanded "><a href="../platforms/blogs.html">Blogs</a></li><li class="chapter-item expanded "><a href="../platforms/calendars.html">Calendars</a></li></ol></li><li class="chapter-item expanded "><a href="../triagebot/index.html">Triagebot</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../triagebot/agenda.html">Agenda Generator</a></li><li class="chapter-item expanded "><a href="../triagebot/issue-assignment.html">Issue Assignment</a></li><li class="chapter-item expanded "><a href="../triagebot/pr-assignment.html">PR Assignment</a></li><li class="chapter-item expanded "><a href="../triagebot/pr-assignment-tracking.html">Tracking PR assignment</a></li><li class="chapter-item expanded "><a href="../triagebot/autolabels.html">Autolabels</a></li><li class="chapter-item expanded "><a href="../triagebot/close.html">Close</a></li><li class="chapter-item expanded "><a href="../triagebot/doc-updates.html">Documentation Updates</a></li><li class="chapter-item expanded "><a href="../triagebot/github-releases.html">GitHub Releases</a></li><li class="chapter-item expanded "><a href="../triagebot/glacier.html">Glacier</a></li><li class="chapter-item expanded "><a href="../triagebot/transfer.html">Issue Transfer</a></li><li class="chapter-item expanded "><a href="../triagebot/labeling.html">Labeling</a></li><li class="chapter-item expanded "><a href="../triagebot/major-changes.html">Major Changes</a></li><li class="chapter-item expanded "><a href="../triagebot/mentions.html">Mentions</a></li><li class="chapter-item expanded "><a href="../triagebot/no-merge.html">No Merge Policy</a></li><li class="chapter-item expanded "><a href="../triagebot/nominate.html">Nominate</a></li><li class="chapter-item expanded "><a href="../triagebot/note.html">Note</a></li><li class="chapter-item expanded "><a href="../triagebot/notifications.html">Notifications</a></li><li class="chapter-item expanded "><a href="../triagebot/pinging.html">Pinging</a></li><li class="chapter-item expanded "><a href="../triagebot/requesting-prioritization.html">Requesting Prioritization</a></li><li class="chapter-item expanded "><a href="../triagebot/review-submitted.html">Review Changes Requested</a></li><li class="chapter-item expanded "><a href="../triagebot/review-requested.html">Review Requested</a></li><li class="chapter-item expanded "><a href="../triagebot/rustc-commit-list.html">Rustc Commit Tracking</a></li><li class="chapter-item expanded "><a href="../triagebot/shortcuts.html">Shortcuts</a></li><li class="chapter-item expanded "><a href="../triagebot/triage-dashboard.html">Triagebot Dashboard</a></li><li class="chapter-item expanded "><a href="../triagebot/zulip-meeting.html">Zulip Meeting Management</a></li><li class="chapter-item expanded "><a href="../triagebot/zulip-notifications.html">Zulip Notifications</a></li></ol></li><li class="chapter-item expanded "><a href="../community/index.html">Community</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../community/survey-faq.html">State of Rust Survey FAQ</a></li></ol></li><li class="chapter-item expanded "><a href="../compiler/index.html">Compiler</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/cross-compilation/index.html">Cross Compilation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/cross-compilation/windows.html">Windows</a></li></ol></li><li class="chapter-item expanded "><a href="../compiler/cross-team-collaboration.html">Cross-team Collaboration</a></li><li class="chapter-item expanded "><a href="../compiler/reviews.html">Review policies</a></li><li class="chapter-item expanded "><a href="../compiler/new_option.html">So you want to add a new option to rustc?</a></li><li class="chapter-item expanded "><a href="../compiler/mcp.html">Major Change Proposals</a></li><li class="chapter-item expanded "><a href="../compiler/membership.html">Membership</a></li><li class="chapter-item expanded "><a href="../compiler/prioritization.html">Prioritization</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/prioritization/procedure.html">Procedure</a></li><li class="chapter-item expanded "><a href="../compiler/prioritization/priority-levels.html">Priority Levels</a></li></ol></li><li class="chapter-item expanded "><a href="../compiler/notification-groups.html">Notification groups</a></li><li class="chapter-item expanded "><a href="../compiler/triage-meeting.html">Triage Meeting</a></li><li class="chapter-item expanded "><a href="../compiler/steering-meeting.html">Steering Meeting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiler/steering-meeting/submit.html">Submitting a proposal</a></li><li class="chapter-item expanded "><a href="../compiler/steering-meeting/how-to-run-planning.html">How to run the planning meeting</a></li><li class="chapter-item expanded "><a href="../compiler/steering-meeting/how-to-run-design.html">How to run a design meeting</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../crates-io/index.html">crates.io</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../crates-io/crate-removal.html">Crate removal</a></li><li class="chapter-item expanded "><a href="../crates-io/db-maintenance.html">Database maintenance</a></li></ol></li><li class="chapter-item expanded "><a href="../docs-rs/index.html">docs.rs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docs-rs/add-dependencies.html">Adding dependencies to the build environment</a></li><li class="chapter-item expanded "><a href="../docs-rs/self-hosting.html">Self-hosting a docs.rs instance</a></li><li class="chapter-item expanded "><a href="../docs-rs/maintenance.html">Maintenance procedures</a></li></ol></li><li class="chapter-item expanded "><a href="../governance/index.html">Governance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../governance/council.html">Leadership Council</a></li><li class="chapter-item expanded "><a href="../governance/moderation.html">Moderation</a></li></ol></li><li class="chapter-item expanded "><a href="../policies/index.html">Policies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../policies/crate-ownership.html">Crate ownership policy</a></li></ol></li><li class="chapter-item expanded "><a href="../infra/index.html">Infrastructure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/other-installation-methods.html">Other Installation Methods</a></li><li class="chapter-item expanded "><a href="../infra/archive-stable-version-installers.html">Archive of Rust Stable Standalone Installers</a></li><li class="chapter-item expanded "><a href="../infra/channel-layout.html">Release Channel Layout</a></li><li class="chapter-item expanded "><a href="../infra/service-infrastructure.html">Service Infrastructure</a></li><li class="chapter-item expanded "><a href="../infra/team-maintenance.html">Team Maintenance</a></li><li class="chapter-item expanded "><a href="../infra/toolstate.html">The Toolstate System</a></li><li class="chapter-item expanded "><a href="../infra/policies/index.html">Policies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/policies/broken-nightlies.html">Broken nightlies</a></li></ol></li><li class="chapter-item expanded "><a href="../infra/guidelines/index.html">Guidelines</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/guidelines/static-websites.html">Static websites</a></li></ol></li><li class="chapter-item expanded "><a href="../infra/docs/index.html">Documentation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infra/docs/aws-access.html">AWS access for team members</a></li><li class="chapter-item expanded "><a href="../infra/docs/aws-access-management.html">AWS access management</a></li><li class="chapter-item expanded "><a href="../infra/docs/aws-regions.html">AWS regions</a></li><li class="chapter-item expanded "><a href="../infra/docs/bastion.html">Bastion server</a></li><li class="chapter-item expanded "><a href="../infra/docs/bors.html">Bors</a></li><li class="chapter-item expanded "><a href="../infra/docs/cdn.html">CDN</a></li><li class="chapter-item expanded "><a href="../infra/docs/crater-agents.html">Crater agents</a></li><li class="chapter-item expanded "><a href="../infra/docs/gha-self-hosted.html">Custom GitHub Actions runners</a></li><li class="chapter-item expanded "><a href="../infra/docs/dev-desktop.html">Dev Desktops</a></li><li class="chapter-item expanded "><a href="../infra/docs/dev-desktop-github-app.html">GitHub App for dev-desktops</a></li><li class="chapter-item expanded "><a href="../infra/docs/discord-mods-bot.html">Discord moderation bot</a></li><li class="chapter-item expanded "><a href="../infra/docs/dns.html">Domain names and DNS</a></li><li class="chapter-item expanded "><a href="../infra/docs/docs-rs.html">docs.rs</a></li><li class="chapter-item expanded "><a href="../infra/docs/ecs-services.html">ECS services management</a></li><li class="chapter-item expanded "><a href="../infra/docs/monitoring.html">Monitoring</a></li><li class="chapter-item expanded "><a href="../infra/docs/rust-bots.html">rust-bots server</a></li><li class="chapter-item expanded "><a href="../infra/docs/rustc-ci.html">rust-lang/rust CI</a></li><li class="chapter-item expanded "><a href="../infra/docs/sentry.html">Sentry</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../lang/index.html">Language</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lang/rfc-merge-procedure.html">RFC Merge Procedure</a></li><li class="chapter-item expanded "><a href="../lang/triage-meeting-procedure.html">Triage Meeting Procedure</a></li></ol></li><li class="chapter-item expanded "><a href="../libs/index.html">Libs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../libs/maintaining-std.html">Maintaining the standard library</a></li></ol></li><li class="chapter-item expanded "><a href="../release/index.html">Release</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../release/backporting.html">Backporting</a></li><li class="chapter-item expanded "><a href="../release/release-notes.html">Preparing Release Notes</a></li><li class="chapter-item expanded "><a href="../release/process.html" class="active">Release Process</a></li><li class="chapter-item expanded "><a href="../release/rollups.html">Rollup Procedure</a></li><li class="chapter-item expanded "><a href="../release/triage-procedure.html">Triage Procedure</a></li><li class="chapter-item expanded "><a href="../release/issue-triaging.html">Issue Triaging</a></li><li class="chapter-item expanded "><a href="../release/crater.html">Triaging Crater Runs</a></li></ol></li><li class="chapter-item expanded "><a href="../editions/edition-releases.html">Edition Releases</a></li><li class="chapter-item expanded "><a href="../archive/index.html">Archive</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../archive/fott.html">Friends of the Tree</a></li><li class="chapter-item expanded "><a href="../archive/release-history.html">Release History</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust Forge</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust-forge" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust-forge/edit/master/src/release/process.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-rust-release-process"><a class="header" href="#the-rust-release-process">The Rust Release Process</a></h1>
<p>Here’s how Rust is currently released:</p>
<h2 id="a-note-about-the-start-releasepy-script"><a class="header" href="#a-note-about-the-start-releasepy-script">A note about the <code>start-release.py</code> script</a></h2>
<p>Steps of the release process that require interacting with our production
environment are executed through the <code>start-release.py</code> script. The script
requires you to install programs and configure your local environmet, and it
will guide you through the setup.</p>
<p>The first time you run the script (or when the pre-requisites change), you will
need to invoke the script <em>multiple times</em> until everything is setup correctly.</p>
<p><code>start-release.py</code> will always start a CI job in the background. To know when
it finishes, you have to watch the logs. WHen the build finishes, a line like
this will appear in the logs:</p>
<pre><code>Phase complete: UPLOAD_ARTIFACTS State: SUCCEEDED
</code></pre>
<h2 id="bump-the-stable-version-number-friday-the-week-before"><a class="header" href="#bump-the-stable-version-number-friday-the-week-before">Bump the stable version number (Friday the week before)</a></h2>
<p>Open a PR bumping the version number in <code>src/version</code>. <code>r+ rollup=never</code> this
PR (self-approve it).</p>
<p>Mark it as <code>rollup=never</code>, because if it lands in a rollup as <em>not</em> the first
PR then other pull requests in that rollup will be incorrectly associated with
the prior release.</p>
<p>This is effectively when the beta branch forks – when beta is promoted, it will
be based off of the PR that landed just before this version number bump PR.</p>
<h2 id="promote-branches-monday"><a class="header" href="#promote-branches-monday">Promote branches (Monday)</a></h2>
<p>Both promotions should happen on Monday. You can open both PRs at the same
time, but prioritize landing the stable promotion first (to maximize the
pre-release testing period).</p>
<h3 id="updating-the-base-of-the-beta-and-stable-branches"><a class="header" href="#updating-the-base-of-the-beta-and-stable-branches">Updating the base of the <code>beta</code> and <code>stable</code> branches</a></h3>
<p>Run this command from the <a href="https://github.com/rust-lang/release-team">rust-lang/release-team</a> repository<sup class="footnote-reference"><a href="#auth">1</a></sup>:</p>
<pre><code>./scripts/start-release.py update-rust-branches
</code></pre>
<p>Remember that <code>start-release.py</code> starts a job in the background, and the script
will exit <em>before</em> the branches are updated. Watch the logs to see when the
background job finishes before proceeding.</p>
<h3 id="stable-pr"><a class="header" href="#stable-pr"><code>stable</code> PR</a></h3>
<p>Send a PR to <a href="https://github.com/%5Brust-lang/rust%5D">rust-lang/rust</a> targeting the new <code>stable</code> branch making the
following changes:</p>
<ul>
<li>
<p>Update release notes to the latest available copy:</p>
<ul>
<li>
<p>If the release notes PR was merged:</p>
<pre><code>git checkout origin/master -- RELEASES.md
</code></pre>
</li>
<li>
<p>Otherwise, manually copy <code>RELEASES.md</code> from the pending release notes PR</p>
</li>
</ul>
</li>
<li>
<p>Update <code>src/ci/channel</code> to <code>stable</code></p>
</li>
</ul>
<p>Self-approve the PR with <code>r+ rollup=never p=1000</code>.</p>
<p>Note that we need to merge this PR as soon as possible, to maximise the
pre-release testing time. If another PR is being tested by bors, and CI is not
going to finish soon (use your judgement here), you can “yield”
priority to the stable release PR by going into that PR and typing this
comment:</p>
<blockquote>
<p>@bors retry<br />
Yield priority to the stable release.</p>
</blockquote>
<h3 id="beta-pr"><a class="header" href="#beta-pr"><code>beta</code> PR</a></h3>
<p>Send a PR to <a href="https://github.com/%5Brust-lang/rust%5D">rust-lang/rust</a> targeting the new <code>beta</code> branch with these
changes:</p>
<ul>
<li>
<p>Run this command and create a <strong>separate commit</strong> with just its output:</p>
<pre><code>./x.py run replace-version-placeholder
</code></pre>
</li>
<li>
<p>Update <code>src/ci/channel</code> to <code>beta</code></p>
</li>
</ul>
<p>Self-approve the PR with <code>r+ rollup=never p=10</code>.</p>
<h3 id="publish-the-pre-release-on-the-dev-static-environment"><a class="header" href="#publish-the-pre-release-on-the-dev-static-environment">Publish the pre-release on the <code>dev-static</code> environment</a></h3>
<p>After the <code>stable</code> PR is merged you’ll need to start the pre-release. Run this command from the
<a href="https://github.com/rust-lang/release-team">rust-lang/release-team</a> repository<sup class="footnote-reference"><a href="#auth">1</a></sup>:</p>
<pre><code>./scripts/start-release.py publish-rust-dev-stable YYYY-MM-DD
</code></pre>
<p>You need to replace <code>YYYY-MM-DD</code> with the date of the release (Thursday).</p>
<h2 id="master-bootstrap-update-tuesday"><a class="header" href="#master-bootstrap-update-tuesday">Master bootstrap update (Tuesday)</a></h2>
<p>This step can only be done after the new beta has been released. The release
process for the beta happens automatically at 00:00 UTC every day, so if the
beta PR landed after that you will have to wait another day. You can check
whether beta has been released by installing it with rustup.</p>
<p>Send a PR to the master branch to:</p>
<ul>
<li>
<p>Cherry pick the commit that ran <code>replace-version-placeholder</code>
from the now merged beta branch PR. Do not re-run the tool as there might
have been other stabilizations on master which were not included in the
branched beta, so may not be attributed to the current release.</p>
</li>
<li>
<p>Run this to update the bootstrap compiler to the beta you created yesterday:</p>
<pre><code>./x.py run src/tools/bump-stage0
</code></pre>
</li>
<li>
<p>Remove references to the <code>bootstrap</code> and <code>not(bootstrap)</code> conditional
compilation attributes. You can find all of them by installing <a href="https://github.com/burntsushi/ripgrep">ripgrep</a> and
running this command:</p>
<pre><code>rg '#!?\[.*\(bootstrap' -t rust
</code></pre>
<p>The general guidelines (both for <code>#[]</code> and <code>#![]</code>) are:</p>
<ul>
<li>Remove any item annotated with <code>#[cfg(bootstrap)]</code>.</li>
<li>Remove any <code>#[cfg(not(bootstrap))]</code> attribute while keeping the item.</li>
<li>Remove any <code>#[cfg_attr(bootstrap, $attr)]</code> attribute while keeping the item.</li>
<li>Replace any <code>#[cfg_attr(not(bootstrap), doc=&quot;$doc&quot;)]</code> with <code>$doc</code> in the
relevant documentation block (or in a new documentation block).</li>
<li>Replace any <code>#[cfg_attr(not(bootstrap), $attr)]</code> with <code>#[$attr]</code>.</li>
</ul>
<p>Note that if a PR adds <code>cfg(bootstrap)</code> and is merged between the beta PR and
the master bootstrap update, the <code>rg</code> invocation will show them even though
they won’t have to be removed. The easiest way to handle this is to change
them anyway and let CI show you the failure.</p>
</li>
</ul>
<h2 id="release-day-thursday"><a class="header" href="#release-day-thursday">Release day (Thursday)</a></h2>
<p>Decide on a time to do the release. You are fully in charge of deciding when
the release happens, pick the time that works best for you. The only constraint
is, the release process must start and finish within the release day (in UTC).</p>
<p>Let the Social Media coordinator (currently Mara) know of the time, so that she
can be ready to post the release on the project’s social media channels.</p>
<p>As of September 2024 a release takes between 75 and 90 minutes to complete, so
start the release process earlier enough to hit the time you planned.</p>
<p>To start the release, Run this command in the <a href="https://github.com/rust-lang/release-team">rust-lang/release-team</a>
repository<sup class="footnote-reference"><a href="#auth">1</a></sup>:</p>
<pre><code>./scripts/start-release.py publish-rust-prod-stable
</code></pre>
<p>The command will start a background job to invoke <a href="https://github.com/rust-lang/promote-release"><code>promote-release</code></a> targeting
the production environment, and it will show the instructions to follow its
logs.</p>
<p>When the release process completes, merge the blog post PR and inform Mara to
announce the release on social media. Finally, bask in your success 🎉</p>
<h2 id="beta-stage0-update-friday"><a class="header" href="#beta-stage0-update-friday">Beta stage0 update (Friday)</a></h2>
<p>Send a PR to the beta branch updating the stage0 to the stable release you
published:</p>
<pre><code>./x run src/tools/bump-stage0
</code></pre>
<h2 id="appendix-rebuilding-stable-pre-releases"><a class="header" href="#appendix-rebuilding-stable-pre-releases">Appendix: Rebuilding stable pre-releases</a></h2>
<p>If something goes wrong and we need to rebuild the stable artifacts, merge the
PR on the <code>stable</code> branch of the <a href="https://github.com/%5Brust-lang/rust%5D">rust-lang/rust</a> repository. Once the commit
is merged, [authenticate with AWS][awscli] and run this command in the
<a href="https://github.com/rust-lang/release-team">rust-lang/release-team</a> repository:</p>
<pre><code>./scripts/start-release.py publish-rust-dev-stable-rebuild
</code></pre>
<p>You’ll also want to update the previously published pre-release announcement on
the blog and internals with the new information.</p>
<div class="footnote-definition" id="auth"><sup class="footnote-definition-label">1</sup>
<p>Publishing releases require authentication, and only authorized
members of the release team can invoke it. The command will prompt you on how
to setup your environment and how to authenticate with AWS the first time you
execute it.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../release/release-notes.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../release/rollups.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../release/release-notes.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../release/rollups.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../js/moment.min.js"></script>
        <script src="../js/index.js"></script>


    </div>
    </body>
</html>
